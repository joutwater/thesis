# Thesis: Process
Find working repository with codebase [HERE](https://github.com/joutwater/jo_berry_code)  
Find written process at the bottom of the page [HERE](#written_process)

## Ideation: Subjectivity of Taste in Food
![](./Concept%20Development/Mind%20Maps/food1.png)
## Literature Review list
1. Gazzaniga, Michael S. The Consciousness Instinct: Unraveling the Mystery of How the Brain Makes the Mind. New York: Farrar, Straus and Giroux, 2019.  
2. Herz, Rachel. Why You Eat What You Eat: the Science behind Our Relationship with Food. New York.: Norton & Company, Incorporated, W.W., 2018.
3. Lane, Christel. The Cultivation of Taste: Chefs and the Organization of Fine Dining. Oxford: Oxford University Press, 2016.
4. Spence, Charles, and Heston Blumenthal. Gastrophysics: the New Science of Eating. England: Penguin Books Ltd., 2018.

#### Research Question:
1.
- Topic: I am visualizing different chemical compound combinations in food that create positive reactions when tasted

- Research Question: Because I want to understand on a chemical or some sort of granular level if there is a way to maximize the experience of food (especially in combination)

- Significance: In order to find a formula behind taste (personal taste?) and show people what is really happening when they are have a bite of an amazing dish. If you do not necessarily enjoy the act of eating, I hope it will offer people more information that will encourage them to enjoy it and think about such an experience.

2.
- Topic: I am visualizing different flavor combinations in food that create positive reactions when tasted (salt, fat, acid, spice, sour)

- Research Question: Because I want to understand how flavor combinations can be maximized to heighten the experience of food.

- Significance: In order to find a formula behind personal taste and show people what is really happening when they are have a bite of an amazing dish. If you do not necessarily enjoy the act of eating, I hope it will offer you more information that will encourage you to enjoy it and think about the miracle of the human body

3.
- Topic: I am visualizing the subjectivity in food taste as it relates to certain dishes throughout NYC's restaurants.

- Research Question: Because I want to find if there are patterns between popular dishes in NYC and why people think those dishes/food combinations are better than others.

- Significance: In order to see if there is an objective way or formula for individuals to choose dishes in NYC, and to make people think more about and appreciate the exprience of food.

### Introduction
1. Background
2. Thesis
### Physiology of Taste - What is happening in your mouth
1. Chemical Level
  - Chemical composition of individual flavors
  - Resultant favorable chemical combinations from mixing such flavors
  - Optimizing combinations to create greatest overall effect across individuals
2. Flavor Level
  - Individual Flavor descriptors (savory, delicate, sour, etc.)
  - Resulting combinations of favorable flavor descriptors
  - Optimizing combinations to create greatest overall effect across individuals
3. Food/Ingredients Level
  - Individual ingredients (raspberry, asparagus, ice cream)
  - Resulting favorable combination of ingredients
  - Optimizing combinations to create greatest overall effect across individuals
4. Outputs
  - Food Science
  - Flavor Pairing
  - Menu Composition
### Psychology of Taste - Environmental factors
1. What you see
  - What does the food look like
  - What does the table look like
  - What does the environment look like
2. What you hear
  - What music is playing
  - How noise level in the environment
  - How is the food described to you
3. What you feel
  - What mood are you in before eating
  - How does food make you feel
  - Does the service affect your mood
### Culture of Taste - Trained for food, or not for food
1. Location
  - Factors of Climate
  - Factors of Geography
  - Factors of Proximity
2. Economy
  - Import/Export Food trends
  - People buying or selling with whom
  - Access to Markets
3. Beliefs
  - Religion's effect on food
  - Personal Choices/ Diets and food
### Conclusion

#### Data Ideas:
  - Food DB - http://foodb.ca/
  - UnderArmour, My fitness health API - https://www.myfitnesspal.com/api
  - Restaurant Data? - https://developer.foursquare.com/
  - Psychology Data?
  
#### Data viz inspiration:
http://rhythm-of-food.net/

## System Diagram
![](./Concept%20Development/Mind%20Maps/BQ_input_output.png)

## Berry Quality Analysis
### Who is your audience?

- People interested in learning about detailed processes around our day to day lives that we might not realize

- People who love food (berries) and are interested in how it is "developed"

- People interested in analyzing agriculture variables and outputs

### How is your audience reading or encountering your project? 

- Website: Journalistic entry point regarding background and significance (scrolly)

- Moving to Web App tool which includes data exploration and interacting with layers and details

### What does your project ask of your audience?

- Desire to learn, reading

- Exploration, interaction

- Possible data input

### What does your audience learn and take away from their user experience?

- The audience learns about the intricate science, choices, and processes around optimizing berry flavor and taste. This tells a larger story about modern agriculture and brings up issues like sustainability and GMOs.

### Updated Research Question

- Topic: Visualizing the association of desirable flavor chemicals in berries with particular growing conditions, in test plots (small-scale) and/or in field (large-scale))
- Research Question: Because I want to understand how not only genetic testing but its combination with favorable environmental conditions can lead to berries of highest quality and berries with targeted flavors and flavor combinations.
- Significance: This relationship can help provide crucial data for the industry relating to flavor quality development. For those not in the industry, I believe it is an interesting insight to what goes into a berry and the amazing technologies and modern practices used today in precision agriculture.

## Iteration Option 1: Sensing Berries
![](./Concept%20Development/Mind%20Maps/SB_WF_Story.png)

## Iteration Option 2: Season's Finest
![](./Concept%20Development/Mind%20Maps/SF_WF_Tool.png)

## Featured Module Update
![](./Concept%20Development/Mind%20Maps/SB_WF_Story3.png)

## Sensing Blue - Update 4.21.2020 
![](./Concept%20Development/Mind%20Maps/sensing_blue1.png)

<a name="written_process"></a>
## Excerpt from Written Thesis

### Chapter 6
#### Data Visualization
##### 6.1 Design conceptualization

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;One of the challenges in the sensory discipline at-large is communicating the results of highly subjective qualitative data in a clear and concise, quantitative manner. Currently, presentation slides and rudimentary graphical techniques have been employed to visualize these surveys. However, such complex data demands visualization methods of higher fidelity and increased efficiency of cognitive synthesis. The approach to design, data, and technical implementation is key in expressing this type of story, and can change drastically depending on the specific goals of visualization. Below, the approach for the specific case of blueberry taste survey data will be discussed.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Before designing ever begins, in-depth concept development must occur. Three weeks were spent deciding on the best way to present this topic, and most of that time was finding the storyline that was the most informative while still being true to one’s own intention.  Mind maps and studio discussions narrowed the topic to its roots: studying the subjectivity and quantifiability of flavor perception. As this concept progressed further, the addition of sensory data from the blueberry taste test made this concept realizable. With these pieces in place, I was able to start putting ideas in visual format to begin figuring out the best way to tell this story and visualize the data.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The first iteration of the storytelling design process was two sets of wireframes, each showcasing a different approach to the primary topic in order to practice thinking of application in multiple directions. The first of the two wireframes, “Season’s Finest” is a focus on the process and cycle of breeding blueberries, giving a context of this process, moving into a bar graph tool for comparing blueberry qualities and, finally, a flavor wheel expressing the complexities of blueberry flavor through interaction and filtering options. The UI/UX for the first wireframe was clean and directed, with scrolling arrows and clear flow throughout. The aesthetics were minimal and muted with thoughtful visual hierarchies, fonts, and colors. Scrollytelling begins the journey through the webpage, ending in the interactive tools at the bottom. The second wireframe of the set, “Sensing Berries” was a more experimental approach to the concept, focusing more on illustrations describing the sensory system, a word cloud of written flavor descriptions, and an interactive spider chart to explore and compare flavor performance. The theme of this wireframe is quite different from the first, expressing more of a laboratory/anatomical feel, which was an exciting direction compared to the first. However, the general flow of the visualization was the same, with context through scrollytelling and then visuals and tools to offer more insights on the subject. This framework and progression is most effective because it informs the user at the outset, and once they are captivated by the information, they can elaborate on what was learned by exploring the interactive tool at the end.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The next step was to narrow the two options into a single visualization progression in order to find the best method in visualizing this dataset. So, with both wireframes in hand, the approaches were presented to the studio class. Much of the interest was in the flavor wheel of “Season’s Finest”, and the aesthetics, sensory graphics, and word cloud from “Sensing Blue”. These components were of highest consideration prior to presenting, so it was great to hear feedback in support of the desired direction. After the components were prioritized, a singular wireframe was assembled and iterated upon until the final visualization, however, a few challenges altered the path of the visualization, and targeted design decisions resulted. The first of these challenges became apparent when actually receiving the data from the blueberry sensory team. There was an expectation to see a great volume of various taste descriptors, while the data only contained 10 taste descriptors and 20 other categories representing color and texture. This made it difficult to execute an engaging flavor wheel since there are usually 50 or more taste categories with multiple levels of subcategories. The dataset simply did not have this granularity. Therefore, an alternative, custom-designed, radial style was implemented to showcase the dataset as effectively as possible.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The specific radial style was an area chart, and it was chosen for multiple reasons. Objectively, radial area charts are useful in visualizing categorical data, so with the many flavor categories involved in the data, this chart style would create an intriguing visual and be useful to see all of these categories at once, especially when giving the user the power of interactivity to highlight categories and explore the detailed graphs. Another reason was that the radial area chart mimicked a splattered blueberry (when designed correctly), which offered an intuitive connection to the topic and fun hint to the user in “breaking down” the flavor profiles of each blueberry. Once the style of the radial chart was decided, the next challenge was the best way to display all of the nine blueberry flavor profiles in a seamless format. A small multiple grid layout was the first choice of implementation, with clicking on one of the charts allowing a larger view for inspection. As the small multiples concept grew closer to realization in the visualization, it became clear that the small multiples would not be able to fit on the screen as desired while keeping the categories legible. At this point a modification had to be executed in order to uphold the integrity of the UX in the visualization. The radial charts were organized in a single line sequence across the screen, without any flavor categories, and then, when clicked, a larger version of the selected radial chart would take up the majority of the screen with the flavor labels added. When hovering over categories (nodes), the remaining varieties (still in small multiple form) would show the ranking for that category as well as a circle along a line to show a visual representation of the value compared to the other varieties within that same flavor category. This became the final version of the main visualization and was the most engaging version of exploring and comparing flavor with small visual aids and number values triggered by hovering interactions and clicking.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Regarding UI and style choices, an anatomical aesthetic was intended for the scrollytelling section for two primary reasons. First, it triggers a reaction that one is learning something that is science-based, which is natural in this case with subjects like the human sensory system and plant genetics. Secondly, the detail and charm of a vintage etching is visually engaging, inviting the user to inspect each marking of the etching graphic, and this inspection is a way of thinking that will be asked of the user again at a later point in the visualization -  during flavor tool exploration. With these goals of engagement in mind, the graphic style for the scrollytelling section experienced a high frequency of iterations and much consideration.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The versions of the sensory graphics in the initial wireframes were anatomical illustrations that I found on google images as placeholders until I either created my own or found a similar style. As the implementation process accelerated, it became clear that the only way to create the anatomical drawings seemed to be drawing them by hand, which was not possible in the timeframe of this project. It was disappointing to lose hope in this aesthetic style, but other styles were created and seemed promising. Single contour line drawings and other digital sketches were created in adobe illustrator to show the sensory graphics, but none of them quite matched the feeling that was desired for the work. After hours and days of trying to find the  best solution, an idea surfaced that enabled the original concept of anatomical illustrations to re-enter the equation - photographic filters. It became apparent that a wide variety of illustrative filters exist online, and if there was one that provided the correct look, then the problem would be solved. Eventually, there was an etching filter on a particular web application that was able to produce the desired results. Small photoshoots with special lighting, blueberries, and other miscellaneous plants were conducted in an apartment and were eventually translated to the final anatomical feel of the graphics. These graphics are essential to engage the user at the outset, adding to the goal of creating the most effective visualization for the data and story overall.  
##### 6.2 Data transformation and structure  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In order to tell the intended story from the data, the data had to be transformed into a thoughtful structure for the visualization. The data for this project was received in an excel table format with thirty-five columns and nine rows for each participant of the one hundred person survey, leading to a total of about 28,000 data points from the dataset. The first decision in transformation was to remove any dimensions that were not to be represented explicitly in the data visualization - and that dimension was the one hundred participants. It is not the goal of the data visualization to focus on the opinions of each participant, but to find patterns across all participants, so calculations were made to average the one hundred scores in each category for each blueberry variety. For example, when looking at the Kodiak variety, the unaltered dataset offered one hundred different value scores for performance on expressing a citrus taste. The one hundred scores were averaged so there would only be one value for Kodiak’s performance on the citrus taste. Therefore, this reduced the data point total from 28,000 to 280, making the dataset even more manageable. However, there were multiple considerations while performing this seemingly simple averaging technique.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Each of the flavor categories are graded on a different scale. One flavor category might be rated “1-9” while another is “1-5” or “1-7”. Also, some categories use a JAR (just-about-right) rating where “1” is not enough and “5” is too much, so the ideal number is really “3”. Needless to say, there was enough variety in rating scales where it would not be possible to confidently compare directly between flavor category values without more in depth calculations, which was not within the scope of this project . The decision was to create a unique scale for each category depending on its values, creating more of a ranking system. This would only be comparable with other blueberry varieties within the same flavor category. Using google sheets column formulas, each value was calculated to be a decimal value based on the scale for each column. For instance, if the Kodiak variety scored a 5 out of 7 for sweetness according to participant number 26, then that value would be translated to 5/7= 0.714. (The JAR score was accounted for by turning 5s to 1s and 4s to 2s so that the values were low to high, representing a blueberry’s JAR score in a certain category. I sacrificed knowing whether a blueberry was too much or too little of a certain category for JAR). After this, a score for each flavor category was averaged across all of the participants, creating the previously stated goal of single values for each variety in each flavor category, and thereby offering a natural ranking between varieties for each category. This was then exported as a .csv, translated to json, and saved in my codebase as a local file for object-oriented queries. Its small file size and computationally low impact data structure made it so a separate database was not necessary. Considering all of these data manipulation decisions, each is in an effort to support the overall data visualization concept and effective synthesis of data.  
##### 6.3 Technical Implementation  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A particular implementation approach was used to continue the path to an effective, custom data visualization that honors the data at hand. The project was split into four separate components, scrollytelling phase 1, scrollytelling phase 2, interactive bar chart, and interactive radial graphs in small multiple. All of this implementation starts with the framework of vue and nuxt that provides the structure to organize each of these into standalone components that communicate with a singular central page that fluidly displays all components, images and text through DOM manipulation. Both scrollytelling phases were instituted using a scrollama package and changing various configuration parameters in nuxt. After successful installation, the sensory graphics and text descriptions for each of the three stages in the scrollama were added manually to the scrollytelling series by linking to asset folders containing the imported .png files. This was then repeated for the breeding methods scrolly but was saved as a separate component to allow for other elements to exist between the two on the main page.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Following the scrollytelling and required context for the visualization, a bar chart was implemented as a simple comparison tool and method of familiarizing the user with the blueberry variety names and breadth of flavor category options. The visualization was attributed from a bl.ocks bar chart with an accompanying dropdown selection menu. The executions of the code were studied and modified to represent the blueberry varieties along the x-axis, ranking value along the y-axis, and flavor category in the dropdown menu.  One of the major visual alterations to the chart was converting the bars to circles on a line (similar to the circle and line visual on the small multiple radial charts). The blue circles were eventually replaced with .png assets of the nine individual blueberry anatomical drawings. This graph is simple but a nice introduction to the concept and allows the users to interact and see blueberries “change” in preparation for the following, more complex visualization.  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The radial chart with small multiples was by far the most intense implementation. The basis of this design was attributed from a radar chart by Nadie Bremmer on bl.ocks. It was very well documented and provided utmost customization. The data was fed into the visualization and, after some parameter alterations, the data abstractions (berry splats) became a visual entity. The only issue is that they were all layered on a single radial coordinate system while the goal was to break up the area charts to have their own displays in small multiple form. With some help from my classmate Neil, we were able to break up the single chart into multiple charts by drawing a new display for each blueberry variety while iterating over the dataset. After this major step was complete, a series of interactions were created with both clicking and hover functionalities. On clicking an area abstraction, the selected area increased to a particular size, showed circular nodes at each intersection with the chart categories, and became filled with an opaque blue. On hover over a node, the ranking for that flavor category is displayed while that flavor category is also highlighted, and rankings for the other small multiples across the top also display along with circle-on-line visual cue. All of this is reset when the enlarged area is clicked on again. These commands are all controlled by a long list of d3 on click actions, and an if statement that gives an id to what is turned on, and if it is clicked again, it has an id of “off” and resets to the original state. The hover events are controlled by a separate long list of commands with d3 mouseover. These purposeful interactivity choices further promote the ease of learning and exploration throughout the main data visualization tool.  
##### Conclusion  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The blueberry has a rich cultural and agricultural history that makes it poised to be a worthy subject for analysis. When reaching further to find what comprises a blueberry (physically and theoretically), there exists a vast array of topics, and, among them, flavor is of particular interest with its qualitative and subjective nature. Understanding blueberry flavor requires breaking down the subjectivity into an objective format, which was provided by the dataset and the work that went into measuring human sensory system reactions to different varieties of blueberries. Following quantification, a detailed visual and technical approach was executed to communicate the data as effectively as possible with the methods described in this paper. From this visualization, Blueberry growers and general audience members can understand the systems and specifics that are involved in blueberry flavor. From one perspective, a user with agricultural experience would be able to better analyze flavor and make decisions in breeding, and from another, a user will learn about what goes into blueberry development and at least garner an appreciation for the next blueberry consumption experience.
